{"file":"C:\\Users\\josea\\Documents\\wordle\\src\\Contexts\\levita\\shared\\infrastructure\\reader\\Reader.ts","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,uCAAwB;AACxB,gDAAuB;AAIvB,MAAa,MAAM;IAClB,MAAM,CAAC,QAAQ,CAAC,UAA6B;QAC5C,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAA;QAC/B,IAAI,cAAI,CAAC,OAAO,CAAC;YAChB,QAAQ,EAAE,cAAc;YACxB,MAAM,EAAE,GAAG,EAAE;gBACZ,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAA;gBAC/B,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,CAAA;YAC3B,CAAC;YACD,KAAK,EAAE,IAAI;SACX,CAAC,CAAA;IACH,CAAC;IAED,MAAM,CAAO,OAAO,CAAC,UAA6B;;YACjD,MAAM,IAAI,GAAG,MAAM,EAAE,CAAC,YAAY,CAAC,2DAA2D,EAAE,MAAM,CAAC,CAAA;YAEvG,MAAM,IAAI,GAAW,IAAI;iBACvB,KAAK,CAAC,IAAI,CAAC,CACX,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC;iBACpE,SAAS,CAAC,KAAK,CAAC;iBAChB,OAAO,CAAC,kBAAkB,EAAE,EAAE,CAAC,CAAA;YAEjC,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,CAAA;YAEjC,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,CAAA;QAC/B,CAAC;KAAA;CACD;AA1BD,wBA0BC","names":[],"sources":["C:\\Users\\josea\\Documents\\wordle\\src\\Contexts\\levita\\shared\\infrastructure\\reader\\Reader.ts"],"sourcesContent":["import * as fs from 'fs'\nimport cron from 'cron'\n\nimport { GenericRepository } from '../../domain/GenericRepository'\n\nexport class Reader {\n\tstatic initCron(repository: GenericRepository) {\n\t\tconsole.log('ðŸš€ cron job init')\n\t\tnew cron.CronJob({\n\t\t\tcronTime: '10 * * * * *',\n\t\t\tonTick: () => {\n\t\t\t\tconsole.log('ðŸš€ cron job call')\n\t\t\t\tReader.getWord(repository)\n\t\t\t},\n\t\t\tstart: true,\n\t\t})\n\t}\n\n\tstatic async getWord(repository: GenericRepository): Promise<void> {\n\t\tconst data = await fs.readFileSync('src/Contexts/levita/shared/infrastructure/reader/dict.txt', 'utf8')\n\n\t\tconst word: string = data\n\t\t\t.split('\\n')\n\t\t\t[Math.floor(Math.random() * data.split('\\n').length)].substring(0, 5)\n\t\t\t.normalize('NFD')\n\t\t\t.replace(/[\\u0300-\\u036f]/g, '')\n\n\t\tconsole.log('ðŸš€new word: ', word)\n\n\t\trepository.updateGeneric(word)\n\t}\n}\n"],"version":3}