76e9c4a05494e2255b650c1b1caaae4f
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Uuid = void 0;
const uuid_1 = require("uuid");
const uuid_validate_1 = __importDefault(require("uuid-validate"));
const InvalidArgumentError_1 = require("./InvalidArgumentError");
const ValueObject_1 = require("./ValueObject");
class Uuid extends ValueObject_1.ValueObject {
    constructor(value) {
        super(value);
        this.ensureIsValidUuid(value);
    }
    static generate() {
        return new Uuid((0, uuid_1.v4)());
    }
    ensureIsValidUuid(id) {
        if (!(0, uuid_validate_1.default)(id)) {
            throw new InvalidArgumentError_1.InvalidArgumentError(`<${this.constructor.name}> does not allow the value <${id}>`);
        }
    }
}
exports.Uuid = Uuid;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiQzpcXFVzZXJzXFxqb3NlYVxcRG9jdW1lbnRzXFx3b3JkbGVcXHNyY1xcQ29udGV4dHNcXHNoYXJlZFxcZG9tYWluXFx2YWx1ZS1vYmplY3RcXFV1aWQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsK0JBQWlDO0FBQ2pDLGtFQUFvQztBQUNwQyxpRUFBNkQ7QUFDN0QsK0NBQTJDO0FBRTNDLE1BQWEsSUFBSyxTQUFRLHlCQUFtQjtJQUM1QyxZQUFZLEtBQWE7UUFDeEIsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFBO1FBQ1osSUFBSSxDQUFDLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxDQUFBO0lBQzlCLENBQUM7SUFFRCxNQUFNLENBQUMsUUFBUTtRQUNkLE9BQU8sSUFBSSxJQUFJLENBQUMsSUFBQSxTQUFJLEdBQUUsQ0FBQyxDQUFBO0lBQ3hCLENBQUM7SUFFTyxpQkFBaUIsQ0FBQyxFQUFVO1FBQ25DLElBQUksQ0FBQyxJQUFBLHVCQUFRLEVBQUMsRUFBRSxDQUFDLEVBQUU7WUFDbEIsTUFBTSxJQUFJLDJDQUFvQixDQUFDLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLCtCQUErQixFQUFFLEdBQUcsQ0FBQyxDQUFBO1NBQzdGO0lBQ0YsQ0FBQztDQUNEO0FBZkQsb0JBZUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxqb3NlYVxcRG9jdW1lbnRzXFx3b3JkbGVcXHNyY1xcQ29udGV4dHNcXHNoYXJlZFxcZG9tYWluXFx2YWx1ZS1vYmplY3RcXFV1aWQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdjQgYXMgdXVpZCB9IGZyb20gJ3V1aWQnXG5pbXBvcnQgdmFsaWRhdGUgZnJvbSAndXVpZC12YWxpZGF0ZSdcbmltcG9ydCB7IEludmFsaWRBcmd1bWVudEVycm9yIH0gZnJvbSAnLi9JbnZhbGlkQXJndW1lbnRFcnJvcidcbmltcG9ydCB7IFZhbHVlT2JqZWN0IH0gZnJvbSAnLi9WYWx1ZU9iamVjdCdcblxuZXhwb3J0IGNsYXNzIFV1aWQgZXh0ZW5kcyBWYWx1ZU9iamVjdDxzdHJpbmc+IHtcblx0Y29uc3RydWN0b3IodmFsdWU6IHN0cmluZykge1xuXHRcdHN1cGVyKHZhbHVlKVxuXHRcdHRoaXMuZW5zdXJlSXNWYWxpZFV1aWQodmFsdWUpXG5cdH1cblxuXHRzdGF0aWMgZ2VuZXJhdGUoKTogVXVpZCB7XG5cdFx0cmV0dXJuIG5ldyBVdWlkKHV1aWQoKSlcblx0fVxuXG5cdHByaXZhdGUgZW5zdXJlSXNWYWxpZFV1aWQoaWQ6IHN0cmluZyk6IHZvaWQge1xuXHRcdGlmICghdmFsaWRhdGUoaWQpKSB7XG5cdFx0XHR0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IoYDwke3RoaXMuY29uc3RydWN0b3IubmFtZX0+IGRvZXMgbm90IGFsbG93IHRoZSB2YWx1ZSA8JHtpZH0+YClcblx0XHR9XG5cdH1cbn1cbiJdLCJ2ZXJzaW9uIjozfQ==