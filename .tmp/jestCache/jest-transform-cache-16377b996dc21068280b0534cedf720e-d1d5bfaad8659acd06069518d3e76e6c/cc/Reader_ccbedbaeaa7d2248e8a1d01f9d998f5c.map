{"file":"C:\\Users\\josea\\Documents\\wordle\\src\\Contexts\\levita\\shared\\infrastructure\\reader\\Reader.ts","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,uCAAyB;AACzB,gDAAuB;AAIvB,MAAa,MAAM;IAElB,MAAM,CAAC,QAAQ,CAAC,UAA6B;QAC5C,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAA;QAC/B,IAAI,cAAI,CAAC,OAAO,CAAC;YACP,QAAQ,EAAE,cAAc;YACxB,MAAM,EAAE,GAAG,EAAE;gBACrB,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAA;gBAC/B,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,CAAA;YAC3B,CAAC;YACQ,KAAK,EAAE,IAAI;SACd,CAAC,CAAA;IACT,CAAC;IAEE,MAAM,CAAO,OAAO,CAAC,UAA6B;;YAEpD,MAAM,IAAI,GAAG,MAAM,EAAE,CAAC,YAAY,CAAC,2DAA2D,EAAE,MAAM,CAAC,CAAA;YAEvG,MAAM,IAAI,GAAW,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC;iBACxF,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC;iBACf,SAAS,CAAC,KAAK,CAAC;iBAChB,OAAO,CAAC,kBAAkB,EAAE,EAAE,CAAC,CAAA;YAEjC,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,IAAI,CAAC,CAAA;YAEjC,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,CAAA;QAC/B,CAAC;KAAA;CAED;AA5BD,wBA4BC","names":[],"sources":["C:\\Users\\josea\\Documents\\wordle\\src\\Contexts\\levita\\shared\\infrastructure\\reader\\Reader.ts"],"sourcesContent":["import * as fs from 'fs';\r\nimport cron from 'cron'\r\n\r\nimport { GenericRepository } from '../../domain/GenericRepository';\r\n\r\nexport class Reader {\r\n\r\n\tstatic initCron(repository: GenericRepository) {\r\n\t\tconsole.log(\"ðŸš€ cron job init\")\r\n\t\tnew cron.CronJob({\r\n            cronTime: '10 * * * * *',\r\n            onTick: () => {\r\n\t\t\t\tconsole.log(\"ðŸš€ cron job call\")\r\n\t\t\t\tReader.getWord(repository)\r\n\t\t\t},\r\n            start: true\r\n        })\r\n\t}\r\n\r\n    static async getWord(repository: GenericRepository): Promise<void> {\r\n\t\t\r\n\t\tconst data = await fs.readFileSync('src/Contexts/levita/shared/infrastructure/reader/dict.txt', 'utf8')\r\n\r\n\t\tconst word: string = data.split(\"\\n\")[Math.floor(Math.random() * data.split(\"\\n\").length)]\r\n\t\t\t.substring(0, 5)\r\n\t\t\t.normalize('NFD')\r\n\t\t\t.replace(/[\\u0300-\\u036f]/g, '')\r\n\t\t\r\n\t\tconsole.log('ðŸš€new word: ', word)\r\n\r\n\t\trepository.updateGeneric(word)\r\n\t}\r\n\r\n}"],"version":3}