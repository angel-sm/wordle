{"file":"C:\\Users\\josea\\Documents\\wordle\\src\\Contexts\\shared\\infrastructure\\persistence\\mongo\\MongoClientFactory.ts","mappings":";;;;;;;;;;;;AAAA,qCAAqC;AAGrC,MAAa,kBAAkB;IAG9B,MAAM,CAAO,YAAY,CAAC,WAAmB,EAAE,MAAmB;;YACjE,IAAI,MAAM,GAAG,kBAAkB,CAAC,SAAS,CAAC,WAAW,CAAC,CAAA;YAEtD,IAAI,CAAC,MAAM,EAAE;gBACZ,MAAM,GAAG,MAAM,kBAAkB,CAAC,sBAAsB,CAAC,MAAM,CAAC,CAAA;gBAEhE,kBAAkB,CAAC,cAAc,CAAC,MAAM,EAAE,WAAW,CAAC,CAAA;aACtD;YAED,OAAO,MAAM,CAAA;QACd,CAAC;KAAA;IAEO,MAAM,CAAC,SAAS,CAAC,WAAmB;QAC3C,OAAO,kBAAkB,CAAC,OAAO,CAAC,WAAW,CAAC,CAAA;IAC/C,CAAC;IAEO,MAAM,CAAO,sBAAsB,CAAC,MAAmB;;YAC9D,MAAM,MAAM,GAAG,IAAI,qBAAW,CAAC,MAAM,CAAC,GAAG,CAAC,CAAA;YAE1C,MAAM,MAAM,CAAC,OAAO,EAAE,CAAA;YAEtB,OAAO,MAAM,CAAA;QACd,CAAC;KAAA;IAEO,MAAM,CAAC,cAAc,CAAC,MAAmB,EAAE,WAAmB;QACrE,kBAAkB,CAAC,OAAO,CAAC,WAAW,CAAC,GAAG,MAAM,CAAA;IACjD,CAAC;;AA7BF,gDA8BC;AA7Be,0BAAO,GAAmC,EAAE,CAAA","names":[],"sources":["C:\\Users\\josea\\Documents\\wordle\\src\\Contexts\\shared\\infrastructure\\persistence\\mongo\\MongoClientFactory.ts"],"sourcesContent":["import { MongoClient } from 'mongodb'\nimport MongoConfig from './MongoConfig'\n\nexport class MongoClientFactory {\n\tprivate static clients: { [key: string]: MongoClient } = {}\n\n\tstatic async createClient(contextName: string, config: MongoConfig): Promise<MongoClient> {\n\t\tlet client = MongoClientFactory.getClient(contextName)\n\n\t\tif (!client) {\n\t\t\tclient = await MongoClientFactory.createAndConnectClient(config)\n\n\t\t\tMongoClientFactory.registerClient(client, contextName)\n\t\t}\n\n\t\treturn client\n\t}\n\n\tprivate static getClient(contextName: string): MongoClient | null {\n\t\treturn MongoClientFactory.clients[contextName]\n\t}\n\n\tprivate static async createAndConnectClient(config: MongoConfig): Promise<MongoClient> {\n\t\tconst client = new MongoClient(config.url)\n\n\t\tawait client.connect()\n\n\t\treturn client\n\t}\n\n\tprivate static registerClient(client: MongoClient, contextName: string): void {\n\t\tMongoClientFactory.clients[contextName] = client\n\t}\n}\n"],"version":3}